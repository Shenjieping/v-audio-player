{"version":3,"file":"audioPlayer.js","sources":["../src/slider.min.js","../src/util.js","../src/index.js"],"sourcesContent":["!function(t,e){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=e():\"function\"==typeof define&&define.amd?define(e):(t=\"undefined\"!=typeof globalThis?globalThis:t||self).Slider=e()}(this,function(){\"use strict\";function n(t){return(n=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function s(e,t){var n,o=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,n)),o}function a(){var e=this;o(this,a),r(this,\"touchStart\",function(t){e.resetTouchStatus(),e.startX=t.touches[0].clientX,e.startY=t.touches[0].clientY}),r(this,\"touchMove\",function(t){t=t.touches[0];e.deltaX=t.clientX-e.startX,e.deltaY=t.clientY-e.startY,e.offsetX=Math.abs(e.deltaX),e.offsetY=Math.abs(e.deltaY)}),r(this,\"resetTouchStatus\",function(){e.deltaX=0,e.deltaY=0,e.offsetX=0,e.offsetY=0}),this.deltaX=0,this.deltaY=0,this.offsetX=0,this.offsetY=0}function u(t){return\"function\"==typeof t}return function t(){var i=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};o(this,t),r(this,\"initHtml\",function(){i.el.style.background=i.options.inactiveColor,i.el.innerHTML='\\n      <div class=\"v-slider-bar\">\\n        <div class=\"v-slider__button-wrapper\">\\n          <div class=\"v-slider__button\"></div>\\n        </div>\\n      </div>\\n    ',i.el.querySelector(\".v-slider__button\").style.width=i.options.buttonSize,i.el.querySelector(\".v-slider__button\").style.height=i.options.buttonSize,i.options.barHeight&&(i.el.style.height=i.options.barHeight,i.el.querySelector(\".v-slider-bar\").style.height=i.options.barHeight)}),r(this,\"updateValue\",function(t,e){t=i.format(t);var n=i.options.input,o=i.options.change;n&&(u(n)?n.call(i,t):console.warn(\"input is not a function\")),e&&o&&(u(o)?o.call(i,t):console.warn(\"change is not a function\")),i.value=t,i.render()}),r(this,\"format\",function(t){return Math.round(Math.max(i.min,Math.min(t,i.max))/i.step)*i.step}),r(this,\"onClick\",function(t){t.stopPropagation();var e=i.el.getBoundingClientRect(),t=t.clientX-e.left,e=e.width,e=+i.min+t/e*i.scope;i.startValue=i.value,i.updateValue(e,!0)}),r(this,\"onTouchStart\",function(t){i.touchMixin.touchStart(t),i.currentValue=i.value,i.startValue=i.format(i.value),i.dragStatus=\"start\"}),r(this,\"onTouchMove\",function(t){var e,n=i.options.dragStart;\"start\"===i.dragStatus&&n&&(u(n)?n():console.warn(\"dragStart is not a function\")),i.el.querySelector(\".v-slider-bar\").style.transition=\"none 0s ease 0s\",e=!0,\"boolean\"==typeof(n=t).cancelable&&!n.cancelable||n.preventDefault(),e&&n.stopPropagation(),i.touchMixin.touchMove(t),i.dragStatus=\"draging\";t=i.el.getBoundingClientRect(),t=i.touchMixin.deltaX/t.width*i.scope;i.currentValue=i.startValue+t,i.updateValue(i.currentValue)}),r(this,\"onTouchEnd\",function(){var t;\"draging\"===i.dragStatus&&(i.updateValue(i.currentValue,!0),(t=i.options.dragEnd)&&(u(t)?t():console.warn(\"dragEnd is not a function\"))),i.el.querySelector(\".v-slider-bar\").style.transition=null,i.dragStatus=\"\"}),r(this,\"bindTouchEvent\",function(t){var e=i.onTouchStart,n=i.onTouchMove,o=i.onTouchEnd;t.addEventListener(\"touchstart\",e),t.addEventListener(\"touchmove\",n),o&&(t.addEventListener(\"touchend\",o),t.addEventListener(\"touchcancel\",o))}),r(this,\"calcMainAxis\",function(){var t=i.value,e=i.min,n=i.scope;return\"\".concat(100*(t-e)/n,\"%\")}),r(this,\"calcOffset\",function(){i.value,i.min,i.scope;return null}),r(this,\"render\",function(){var t={width:i.calcMainAxis(),background:i.options.activeColor},e=i.el.querySelector(\".v-slider-bar\");e.style.width=t.width,e.style.background=t.background}),this.options=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){r(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({min:0,max:100,step:1,value:0},e),this.min=this.options.min,this.max=this.options.max,this.step=this.options.step,this.value=this.options.value,this.el=function(t){if(\"string\"==typeof t&&(t=document.querySelector(t)),(\"object\"===(\"undefined\"==typeof HTMLElement?\"undefined\":n(HTMLElement))?function(t){return t instanceof HTMLElement}:function(t){return t&&\"object\"===n(t)&&1===t.nodeType&&\"string\"==typeof t.nodeName})(t))return t;throw TypeError(\"el is not define\")}(this.options.el),this.dragStatus=\"\",this.scope=this.max-this.min,this.initHtml(),this.updateValue(this.value);e=this.el.querySelector(\".v-slider__button-wrapper\");this.bindTouchEvent(e),this.touchMixin=new a,this.el.addEventListener(\"click\",this.onClick)}});\n","export function getDom (el) {\n  if (typeof el === 'string') {\n    el = document.querySelector(el);\n  }\n\n  var isDOM = typeof HTMLElement === 'object'\n    ? function (el) {\n        return el instanceof HTMLElement;\n      }\n    : function (el) {\n        return el && typeof el === 'object' && el.nodeType === 1 && typeof el.nodeName === 'string';\n      };\n  if (isDOM(el)) {\n    return el;\n  } else {\n    throw TypeError('el is not define');\n  }\n}","import slider from './slider.min.js';\nimport { getDom } from \"./util\";\n\nclass AudioPlayer {\n  constructor (options = {}) {\n    this.options = options;\n    this.url = this.options.url;\n    this.title = this.options.title;\n    this.el = getDom(this.options.el);\n    this.initHtml();\n    this.duration = '00:00';\n    this.currentTime = '00:00';\n    this.currentTimeValue = 0;\n    this.play = false;\n    this.showPlayFixed = false;\n    this.audioEl = this.el.querySelector('.audio-wapper');\n    this.init();\n    this.initSlider();\n  }\n  init = () => {\n    this.el.querySelector('.title').innerHTML = this.title;\n    this.audioEl.setAttribute('src', this.url);\n    this.getAudioInfo();\n    this.el.querySelector('.icon-audio').addEventListener('click', this.playAndPause)\n  }\n  initHtml = () => {\n    const html = `\n      <span class=\"icon icon-audio\"></span>\n      <div class=\"audio-info\">\n        <div class=\"title\"></div>\n        <div class=\"v-slider\"></div>\n        <div class=\"audio-time\">\n          <div class=\"audio-current\">00:00</div>\n          <div class=\"audio-duration\">00:00</div>\n        </div>\n      </div>\n      <audio class=\"audio-wapper\" preload></audio>\n    `\n    this.el.innerHTML = html;\n  }\n  initSlider = () => {\n    this.slider = new Slider({\n      el: this.el.querySelector('.v-slider'),\n      step: 0.1,\n      buttonSize: this.options.buttonSize || '10px',\n      activeColor: this.options.activeColor || '#F45E23',\n      change: this.changeTime\n    });\n  }\n  playAndPause = () => {\n    this.play = !this.play;\n    this.showPlayFixed = true;\n    let audio = this.audioEl;\n    if (this.play) {\n      audio.play();\n    } else {\n      audio.pause();\n    }\n    this.options.playStatus && this.options.playStatus(this.play, this.el.dataset.index);\n  }\n  audioPause () {\n    this.showPlayFixed = false;\n    this.play = false;\n    this.audioEl.pause();\n  }\n  changeTime = (val) => {\n    let audio = this.audioEl;\n    audio.currentTime = (audio.duration * val) / 100;\n  }\n  getAudioInfo = () => {\n    let audio = this.audioEl;\n    audio.addEventListener('loadedmetadata', () => {\n      this.duration = this.transTime(audio.duration);\n      this.el.querySelector('.audio-duration').innerHTML = this.duration;\n    });\n    audio.addEventListener('timeupdate', () => {\n      let value = (Math.floor(audio.currentTime) / Math.floor(audio.duration)) * 100;\n      this.currentTimeValue = (parseInt(value * 100)) / 100;\n      this.currentTime = this.transTime(audio.currentTime);\n      this.slider.updateValue(this.currentTimeValue);\n      this.el.querySelector('.audio-current').innerHTML = this.currentTime;\n    });\n    audio.addEventListener('ended', () => {\n      this.play = false;\n      this.showPlayFixed = false;\n      audio.pause();\n      this.currentTime = '00:00';\n      this.currentTimeValue = 0;\n      this.slider.updateValue(this.currentTimeValue);\n      this.el.querySelector('.audio-current').innerHTML = this.currentTime;\n    }, false);\n  }\n  transTime = (time) => {\n    let duration = parseInt(time);\n    let minute = parseInt(duration / 60);\n    let sec = duration % 60 + '';\n    let isM0 = ':';\n    if (minute === 0) {\n      minute = '00';\n    } else if (minute < 10) {\n      minute = '0' + minute;\n    }\n    if (sec.length === 1) {\n      sec = '0' + sec;\n    }\n    return minute + isM0 + sec;\n  }\n};\n\nexport default AudioPlayer;"],"names":["t","e","exports","module","define","amd","globalThis","self","Slider","this","n","Symbol","iterator","constructor","prototype","o","TypeError","r","Object","defineProperty","value","enumerable","configurable","writable","s","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","push","apply","a","resetTouchStatus","startX","touches","clientX","startY","clientY","deltaX","deltaY","offsetX","Math","abs","offsetY","u","i","arguments","length","el","style","background","options","inactiveColor","innerHTML","querySelector","width","buttonSize","height","barHeight","format","input","change","call","console","warn","render","round","max","min","step","stopPropagation","getBoundingClientRect","left","scope","startValue","updateValue","touchMixin","touchStart","currentValue","dragStatus","dragStart","transition","cancelable","preventDefault","touchMove","dragEnd","onTouchStart","onTouchMove","onTouchEnd","addEventListener","concat","calcMainAxis","activeColor","forEach","getOwnPropertyDescriptors","defineProperties","document","HTMLElement","nodeType","nodeName","initHtml","bindTouchEvent","onClick","getDom","isDOM","AudioPlayer","title","audioEl","setAttribute","url","getAudioInfo","playAndPause","html","slider","changeTime","play","showPlayFixed","audio","pause","playStatus","dataset","index","val","currentTime","duration","transTime","floor","currentTimeValue","parseInt","time","minute","sec","isM0","init","initSlider"],"mappings":"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"}