{"version":3,"file":"audioPlayer.js","sources":["../src/slider.es.js","../src/util.js","../src/index.js"],"sourcesContent":["function t(e){return(t=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&\"function\"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?\"symbol\":typeof t})(e)}function e(t,e){if(!(t instanceof e))throw new TypeError(\"Cannot call a class as a function\")}function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function o(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}var r=function t(){var i=this;e(this,t),n(this,\"touchStart\",(function(t){i.resetTouchStatus(),i.startX=t.touches[0].clientX,i.startY=t.touches[0].clientY})),n(this,\"touchMove\",(function(t){var e=t.touches[0];i.deltaX=e.clientX-i.startX,i.deltaY=e.clientY-i.startY,i.offsetX=Math.abs(i.deltaX),i.offsetY=Math.abs(i.deltaY)})),n(this,\"resetTouchStatus\",(function(){i.deltaX=0,i.deltaY=0,i.offsetX=0,i.offsetY=0})),this.deltaX=0,this.deltaY=0,this.offsetX=0,this.offsetY=0};function a(t,e){(\"boolean\"!=typeof t.cancelable||t.cancelable)&&t.preventDefault(),e&&t.stopPropagation()}function s(t){return\"function\"==typeof t}function u(e){if(\"string\"==typeof e&&(e=document.querySelector(e)),(\"object\"===(\"undefined\"==typeof HTMLElement?\"undefined\":t(HTMLElement))?function(t){return t instanceof HTMLElement}:function(e){return e&&\"object\"===t(e)&&1===e.nodeType&&\"string\"==typeof e.nodeName})(e))return e;throw TypeError(\"el is not define\")}var l=function t(){var i=this,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(this,t),n(this,\"initHtml\",(function(){i.el.style.background=i.options.inactiveColor,i.el.innerHTML='\\n      <div class=\"v-slider-bar\">\\n        <div class=\"v-slider__button-wrapper\">\\n          <div class=\"v-slider__button\"></div>\\n        </div>\\n      </div>\\n    ',i.el.querySelector(\".v-slider__button\").style.width=i.options.buttonSize,i.el.querySelector(\".v-slider__button\").style.height=i.options.buttonSize,i.options.barHeight&&(i.el.style.height=i.options.barHeight,i.el.querySelector(\".v-slider-bar\").style.height=i.options.barHeight),i.disabled&&i.el.classList.add(\"v-slider-disabled\")})),n(this,\"updateValue\",(function(t,e){t=i.format(t);var n=i.options.input,o=i.options.change;n&&(s(n)?n.call(i,t):console.warn(\"input is not a function\")),e&&o&&(s(o)?o.call(i,t):console.warn(\"change is not a function\")),i.value=t,i.render()})),n(this,\"setValue\",(function(t){\"\"===i.dragStatus&&i.updateValue(t)})),n(this,\"format\",(function(t){return Math.round(Math.max(i.min,Math.min(t,i.max))/i.step)*i.step})),n(this,\"onClick\",(function(t){if(!i.disabled){t.stopPropagation();var e=i.el.getBoundingClientRect(),n=t.clientX-e.left,o=e.width,r=+i.min+n/o*i.scope;i.startValue=i.value,i.updateValue(r,!0)}})),n(this,\"onTouchStart\",(function(t){i.disabled||(i.touchMixin.touchStart(t),i.currentValue=i.value,i.startValue=i.format(i.value),i.dragStatus=\"start\")})),n(this,\"onTouchMove\",(function(t){if(!i.disabled){var e=i.options.dragStart;\"start\"===i.dragStatus&&e&&(s(e)?e():console.warn(\"dragStart is not a function\")),i.el.querySelector(\".v-slider-bar\").style.transition=\"none 0s ease 0s\",a(t,!0),i.touchMixin.touchMove(t),i.dragStatus=\"draging\";var n=i.el.getBoundingClientRect(),o=i.touchMixin.deltaX/n.width*i.scope;i.currentValue=i.startValue+o,i.updateValue(i.currentValue)}})),n(this,\"onTouchEnd\",(function(){if(!i.disabled){if(\"draging\"===i.dragStatus){i.updateValue(i.currentValue,!0);var t=i.options.dragEnd;t&&(s(t)?t():console.warn(\"dragEnd is not a function\"))}i.el.querySelector(\".v-slider-bar\").style.transition=null,i.dragStatus=\"\"}})),n(this,\"bindTouchEvent\",(function(t){var e=i.onTouchStart,n=i.onTouchMove,o=i.onTouchEnd;t.addEventListener(\"touchstart\",e),t.addEventListener(\"touchmove\",n),o&&(t.addEventListener(\"touchend\",o),t.addEventListener(\"touchcancel\",o))})),n(this,\"calcMainAxis\",(function(){var t=i.value,e=i.min,n=i.scope;return\"\".concat(100*(t-e)/n,\"%\")})),n(this,\"calcOffset\",(function(){i.value,i.min,i.scope;return null})),n(this,\"render\",(function(){var t={width:i.calcMainAxis(),background:i.options.activeColor},e=i.el.querySelector(\".v-slider-bar\");e.style.width=t.width,e.style.background=t.background})),this.options=o({min:0,max:100,step:1,value:0,disabled:!1},l),this.min=this.options.min,this.max=this.options.max,this.step=this.options.step,this.value=this.options.value,this.disabled=this.options.disabled,this.el=u(this.options.el),this.dragStatus=\"\",this.scope=this.max-this.min,this.initHtml(),this.updateValue(this.value);var c=this.el.querySelector(\".v-slider__button-wrapper\");this.bindTouchEvent(c),this.touchMixin=new r,this.el.addEventListener(\"click\",this.onClick)};export default l;\n","export function getDom (el) {\n  if (typeof el === 'string') {\n    el = document.querySelector(el);\n  }\n\n  var isDOM = typeof HTMLElement === 'object'\n    ? function (el) {\n        return el instanceof HTMLElement;\n      }\n    : function (el) {\n        return el && typeof el === 'object' && el.nodeType === 1 && typeof el.nodeName === 'string';\n      };\n  if (isDOM(el)) {\n    return el;\n  } else {\n    throw TypeError('el is not define');\n  }\n}","// const Slider = require('./slider.min.js');\nimport Slider from './slider.es.js';\nimport { getDom } from \"./util\";\n\nclass AudioPlayer {\n  constructor (options = {}) {\n    this.options = options;\n    this.url = this.options.url;\n    this.title = this.options.title;\n    this.el = getDom(this.options.el);\n    this.initHtml();\n    this.duration = '00:00';\n    this.currentTime = '00:00';\n    this.currentTimeValue = 0;\n    this.play = false;\n    this.showPlayFixed = false;\n    this.audioEl = this.el.querySelector('.audio-wapper');\n    this.loading = false;\n    this.isDestory = false;\n    this.sliderOptions = options.sliderOptions || {}\n    this.init();\n    this.initSlider();\n  }\n  init = () => {\n    this.el.querySelector('.title').innerHTML = this.title;\n    this.audioEl.setAttribute('src', this.url);\n    this.getAudioInfo();\n    this.el.querySelector('.icon-audio').addEventListener('click', this.playAndPause);\n  }\n  initHtml = () => {\n    const html = `\n      <span class=\"icon icon-audio\">\n        <span class=\"icon icon-loading\"></span>\n      </span>\n      <div class=\"audio-info\">\n        <div class=\"title\"></div>\n        <div class=\"v-slider\"></div>\n        <div class=\"audio-time\">\n          <div class=\"audio-current\">00:00</div>\n          <div class=\"audio-duration\">00:00</div>\n        </div>\n      </div>\n      <audio class=\"audio-wapper\" preload></audio>\n    `;\n    this.el.innerHTML = html;\n  }\n  initFixSlider = () => {\n    if (this.isDestory) return;\n    if (!this.options.showFixed) {\n      return;\n    }\n    let fixAudio = document.createElement('div');\n    fixAudio.className = `audio-player-fixed ${this.options.fixedClass || ''}`;\n    const htmlFixed = `\n      <span class=\"icon icon-audio\"></span>\n      <div class=\"audio-info\">\n        <div class=\"title\"></div>\n        <div class=\"v-slider\"></div>\n        <div class=\"audio-time\">\n          <div class=\"audio-current\">${this.currentTime}</div>\n          <div class=\"audio-duration\">${this.duration}</div>\n        </div>\n      </div>\n      <span class=\"icon icon-close-btn\"></span>\n    `;\n    fixAudio.innerHTML = htmlFixed;\n    this.fixAudio = fixAudio;\n    document.body.appendChild(fixAudio);\n\n    this.fixAudio.querySelector('.title').innerHTML = this.title;\n    this.fixAudio.querySelector('.icon-audio').addEventListener('click', this.playAndPause);\n    this.fixAudio.querySelector('.icon-close-btn').addEventListener('click', this.closeFixSlider);\n    // this.fixAudio.querySelector('.audio-duration').innerHTML = this.duration;\n    this.fixSlider = new Slider({\n      el: this.fixAudio.querySelector('.v-slider'),\n      step: 0.1,\n      value: this.currentTimeValue,\n      buttonSize: '10px',\n      activeColor: '#F45E23',\n      ...this.sliderOptions,\n      change: this.changeTime\n    });\n  }\n  closeFixSlider = () => {\n    if (this.isDestory) return;\n    if (this.fixAudio) {\n      this.fixAudio.parentNode.removeChild(this.fixAudio);\n      this.fixAudio = null;\n      this.audioPause();\n    }\n  }\n  initSlider = () => {\n    if (this.isDestory) return;\n    this.slider = new Slider({\n      el: this.el.querySelector('.v-slider'),\n      step: 0.1,\n      buttonSize: '10px',\n      activeColor: '#F45E23',\n      disabled: !this.loading,\n      ...this.sliderOptions,\n      change: this.changeTime\n    });\n  }\n  playAndPause = () => {\n    if (this.isDestory) return;\n    if (!this.loading) {\n      return;\n    }\n    this.play = !this.play;\n    this.showPlayFixed = true;\n    let audio = this.audioEl;\n    if (this.play) {\n      audio.play();\n      this.initFixSlider();\n    } else {\n      audio.pause();\n      // this.closeFixSlider();\n    }\n    this.options.playStatus && this.options.playStatus(this.play, this.el.dataset.index);\n  }\n  audioPause = () => {\n    if (this.isDestory) return;\n    this.showPlayFixed = false;\n    this.play = false;\n    this.audioEl.pause();\n    this.closeFixSlider();\n  }\n  changeTime = (val) => {\n    let audio = this.audioEl;\n    audio.currentTime = (audio.duration * val) / 100;\n  }\n  getAudioInfo = () => {\n    let audio = this.audioEl;\n    audio.addEventListener('loadedmetadata', () => {\n      this.loading = true;\n      this.initSlider();\n      this.duration = this.transTime(audio.duration);\n      this.el.querySelector('.audio-duration').innerHTML = this.duration;\n      const loadingImg = this.el.querySelector('.icon-audio .icon-loading');\n      if (loadingImg) {\n        this.el.querySelector('.icon-audio').removeChild(loadingImg);\n      }\n      if (this.fixAudio) {\n        this.fixAudio.querySelector('.audio-duration').innerHTML = this.duration;\n      }\n    });\n    audio.addEventListener('error', () => {\n      this.loading = true;\n      const loadingImg = this.el.querySelector('.icon-audio .icon-loading');\n      if (loadingImg) {\n        this.el.querySelector('.icon-audio').removeChild(loadingImg);\n      }\n      this.options.error && this.options.error();\n    });\n    audio.addEventListener('timeupdate', () => {\n      if (this.isDestory) return;\n      let value = (Math.floor(audio.currentTime) / Math.floor(audio.duration)) * 100;\n      this.currentTimeValue = (parseInt(value * 100)) / 100;\n      this.currentTime = this.transTime(audio.currentTime);\n      this.slider.setValue(this.currentTimeValue);\n      this.el.querySelector('.audio-current').innerHTML = this.currentTime;\n      if (this.fixAudio) {\n        this.fixSlider.setValue(this.currentTimeValue);\n        this.fixAudio.querySelector('.audio-current').innerHTML = this.currentTime;\n      }\n    });\n    audio.addEventListener('ended', () => {\n      if (this.isDestory) return;\n      this.play = false;\n      this.showPlayFixed = false;\n      audio.pause();\n      this.currentTime = '00:00';\n      this.currentTimeValue = 0;\n      this.slider.setValue(this.currentTimeValue);\n      this.el.querySelector('.audio-current').innerHTML = this.currentTime;\n      if (this.fixAudio) {\n        this.fixSlider.setValue(this.currentTimeValue);\n        this.closeFixSlider();\n      }\n    }, false);\n  }\n  transTime = (time) => {\n    let duration = parseInt(time);\n    let minute = parseInt(duration / 60);\n    let sec = duration % 60 + '';\n    let isM0 = ':';\n    if (minute === 0) {\n      minute = '00';\n    } else if (minute < 10) {\n      minute = '0' + minute;\n    }\n    if (sec.length === 1) {\n      sec = '0' + sec;\n    }\n    return minute + isM0 + sec;\n  }\n  destory = () => {\n    this.audioPause();\n    this.isDestory = true;\n    if (this.fixAudio) {\n      this.fixAudio.parentNode.removeChild(this.fixAudio);\n      this.fixAudio = null;\n    }\n    if (this.el) {\n      this.el.parentNode.removeChild(this.el);\n      this.el = null;\n    }\n  }\n};\n\nexport default AudioPlayer;"],"names":["t","e","Symbol","iterator","constructor","prototype","TypeError","n","Object","defineProperty","value","enumerable","configurable","writable","i","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","push","apply","o","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","r","resetTouchStatus","startX","touches","clientX","startY","clientY","deltaX","deltaY","offsetX","Math","abs","offsetY","a","cancelable","preventDefault","stopPropagation","s","u","document","querySelector","HTMLElement","nodeType","nodeName","l","el","style","background","options","inactiveColor","innerHTML","width","buttonSize","height","barHeight","disabled","classList","add","format","input","change","call","console","warn","render","dragStatus","updateValue","round","max","min","step","getBoundingClientRect","left","scope","startValue","touchMixin","touchStart","currentValue","dragStart","transition","touchMove","dragEnd","onTouchStart","onTouchMove","onTouchEnd","addEventListener","concat","calcMainAxis","activeColor","initHtml","c","bindTouchEvent","onClick","getDom","isDOM","AudioPlayer","title","audioEl","setAttribute","url","getAudioInfo","playAndPause","html","isDestory","showFixed","fixAudio","createElement","className","fixedClass","htmlFixed","currentTime","duration","body","appendChild","closeFixSlider","fixSlider","Slider","currentTimeValue","sliderOptions","changeTime","parentNode","removeChild","audioPause","slider","loading","play","showPlayFixed","audio","initFixSlider","pause","playStatus","dataset","index","val","initSlider","transTime","loadingImg","error","floor","parseInt","setValue","time","minute","sec","isM0","init"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAA,SAASA,CAAT,CAAWC,CAAX,EAAa;EAAC,SAAM,CAACD,CAAC,GAAC,cAAY,OAAOE,MAAnB,IAA2B,oBAAiBA,MAAM,CAACC,QAAxB,CAA3B,GAA4D,UAASH,CAAT,EAAW;EAAC,mBAAcA,CAAd;EAAgB,GAAxF,GAAyF,UAASA,CAAT,EAAW;EAAC,WAAOA,CAAC,IAAE,cAAY,OAAOE,MAAtB,IAA8BF,CAAC,CAACI,WAAF,KAAgBF,MAA9C,IAAsDF,CAAC,KAAGE,MAAM,CAACG,SAAjE,GAA2E,QAA3E,WAA2FL,CAA3F,CAAP;EAAoG,GAA5M,EAA8MC,CAA9M,CAAN;EAAuN;;EAAA,SAASA,CAAT,CAAWD,CAAX,EAAaC,CAAb,EAAe;EAAC,MAAG,EAAED,CAAC,YAAYC,CAAf,CAAH,EAAqB,MAAM,IAAIK,SAAJ,CAAc,mCAAd,CAAN;EAAyD;;EAAA,SAASC,CAAT,CAAWP,CAAX,EAAaC,CAAb,EAAeM,CAAf,EAAiB;EAAC,SAAON,CAAC,IAAID,CAAL,GAAOQ,MAAM,CAACC,cAAP,CAAsBT,CAAtB,EAAwBC,CAAxB,EAA0B;EAACS,IAAAA,KAAK,EAACH,CAAP;EAASI,IAAAA,UAAU,EAAC,CAAC,CAArB;EAAuBC,IAAAA,YAAY,EAAC,CAAC,CAArC;EAAuCC,IAAAA,QAAQ,EAAC,CAAC;EAAjD,GAA1B,CAAP,GAAsFb,CAAC,CAACC,CAAD,CAAD,GAAKM,CAA3F,EAA6FP,CAApG;EAAsG;;EAAA,SAASc,CAAT,CAAWd,CAAX,EAAaC,CAAb,EAAe;EAAC,MAAIM,CAAC,GAACC,MAAM,CAACO,IAAP,CAAYf,CAAZ,CAAN;;EAAqB,MAAGQ,MAAM,CAACQ,qBAAV,EAAgC;EAAC,QAAIF,CAAC,GAACN,MAAM,CAACQ,qBAAP,CAA6BhB,CAA7B,CAAN;EAAsCC,IAAAA,CAAC,KAAGa,CAAC,GAACA,CAAC,CAACG,MAAF,CAAU,UAAShB,CAAT,EAAW;EAAC,aAAOO,MAAM,CAACU,wBAAP,CAAgClB,CAAhC,EAAkCC,CAAlC,EAAqCU,UAA5C;EAAuD,KAA7E,CAAL,CAAD,EAAuFJ,CAAC,CAACY,IAAF,CAAOC,KAAP,CAAab,CAAb,EAAeO,CAAf,CAAvF;EAAyG;;EAAA,SAAOP,CAAP;EAAS;;EAAA,SAASc,CAAT,CAAWrB,CAAX,EAAa;EAAC,OAAI,IAAIC,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACqB,SAAS,CAACC,MAAxB,EAA+BtB,CAAC,EAAhC,EAAmC;EAAC,QAAIoB,CAAC,GAAC,QAAMC,SAAS,CAACrB,CAAD,CAAf,GAAmBqB,SAAS,CAACrB,CAAD,CAA5B,GAAgC,EAAtC;EAAyCA,IAAAA,CAAC,GAAC,CAAF,GAAIa,CAAC,CAACN,MAAM,CAACa,CAAD,CAAP,EAAW,CAAC,CAAZ,CAAD,CAAgBG,OAAhB,CAAyB,UAASvB,CAAT,EAAW;EAACM,MAAAA,CAAC,CAACP,CAAD,EAAGC,CAAH,EAAKoB,CAAC,CAACpB,CAAD,CAAN,CAAD;EAAY,KAAjD,CAAJ,GAAwDO,MAAM,CAACiB,yBAAP,GAAiCjB,MAAM,CAACkB,gBAAP,CAAwB1B,CAAxB,EAA0BQ,MAAM,CAACiB,yBAAP,CAAiCJ,CAAjC,CAA1B,CAAjC,GAAgGP,CAAC,CAACN,MAAM,CAACa,CAAD,CAAP,CAAD,CAAaG,OAAb,CAAsB,UAASvB,CAAT,EAAW;EAACO,MAAAA,MAAM,CAACC,cAAP,CAAsBT,CAAtB,EAAwBC,CAAxB,EAA0BO,MAAM,CAACU,wBAAP,CAAgCG,CAAhC,EAAkCpB,CAAlC,CAA1B;EAAgE,KAAlG,CAAxJ;EAA6P;;EAAA,SAAOD,CAAP;EAAS;;EAAA,IAAI2B,CAAC,GAAC,SAAS3B,CAAT,GAAY;EAAC,MAAIc,CAAC,GAAC,IAAN;EAAWb,EAAAA,CAAC,CAAC,IAAD,EAAMD,CAAN,CAAD,EAAUO,CAAC,CAAC,IAAD,EAAM,YAAN,EAAoB,UAASP,CAAT,EAAW;EAACc,IAAAA,CAAC,CAACc,gBAAF,IAAqBd,CAAC,CAACe,MAAF,GAAS7B,CAAC,CAAC8B,OAAF,CAAU,CAAV,EAAaC,OAA3C,EAAmDjB,CAAC,CAACkB,MAAF,GAAShC,CAAC,CAAC8B,OAAF,CAAU,CAAV,EAAaG,OAAzE;EAAiF,GAAjH,CAAX,EAA+H1B,CAAC,CAAC,IAAD,EAAM,WAAN,EAAmB,UAASP,CAAT,EAAW;EAAC,QAAIC,CAAC,GAACD,CAAC,CAAC8B,OAAF,CAAU,CAAV,CAAN;EAAmBhB,IAAAA,CAAC,CAACoB,MAAF,GAASjC,CAAC,CAAC8B,OAAF,GAAUjB,CAAC,CAACe,MAArB,EAA4Bf,CAAC,CAACqB,MAAF,GAASlC,CAAC,CAACgC,OAAF,GAAUnB,CAAC,CAACkB,MAAjD,EAAwDlB,CAAC,CAACsB,OAAF,GAAUC,IAAI,CAACC,GAAL,CAASxB,CAAC,CAACoB,MAAX,CAAlE,EAAqFpB,CAAC,CAACyB,OAAF,GAAUF,IAAI,CAACC,GAAL,CAASxB,CAAC,CAACqB,MAAX,CAA/F;EAAkH,GAApK,CAAhI,EAAuS5B,CAAC,CAAC,IAAD,EAAM,kBAAN,EAA0B,YAAU;EAACO,IAAAA,CAAC,CAACoB,MAAF,GAAS,CAAT,EAAWpB,CAAC,CAACqB,MAAF,GAAS,CAApB,EAAsBrB,CAAC,CAACsB,OAAF,GAAU,CAAhC,EAAkCtB,CAAC,CAACyB,OAAF,GAAU,CAA5C;EAA8C,GAAnF,CAAxS,EAA8X,KAAKL,MAAL,GAAY,CAA1Y,EAA4Y,KAAKC,MAAL,GAAY,CAAxZ,EAA0Z,KAAKC,OAAL,GAAa,CAAva,EAAya,KAAKG,OAAL,GAAa,CAAtb;EAAwb,CAAtd;;EAAud,SAASC,CAAT,CAAWxC,CAAX,EAAaC,CAAb,EAAe;EAAC,GAAC,aAAW,OAAOD,CAAC,CAACyC,UAApB,IAAgCzC,CAAC,CAACyC,UAAnC,KAAgDzC,CAAC,CAAC0C,cAAF,EAAhD,EAAmEzC,CAAC,IAAED,CAAC,CAAC2C,eAAF,EAAtE;EAA0F;;EAAA,SAASC,CAAT,CAAW5C,CAAX,EAAa;EAAC,SAAM,cAAY,OAAOA,CAAzB;EAA2B;;EAAA,SAAS6C,CAAT,CAAW5C,CAAX,EAAa;EAAC,MAAG,YAAU,OAAOA,CAAjB,KAAqBA,CAAC,GAAC6C,QAAQ,CAACC,aAAT,CAAuB9C,CAAvB,CAAvB,GAAkD,CAAC,cAAY,eAAa,OAAO+C,WAApB,GAAgC,WAAhC,GAA4ChD,CAAC,CAACgD,WAAD,CAAzD,IAAwE,UAAShD,CAAT,EAAW;EAAC,WAAOA,CAAC,YAAYgD,WAApB;EAAgC,GAApH,GAAqH,UAAS/C,CAAT,EAAW;EAAC,WAAOA,CAAC,IAAE,aAAWD,CAAC,CAACC,CAAD,CAAf,IAAoB,MAAIA,CAAC,CAACgD,QAA1B,IAAoC,YAAU,OAAOhD,CAAC,CAACiD,QAA9D;EAAuE,GAAzM,EAA2MjD,CAA3M,CAArD,EAAmQ,OAAOA,CAAP;EAAS,QAAMK,SAAS,CAAC,kBAAD,CAAf;EAAoC;;EAAA,IAAI6C,CAAC,GAAC,SAASnD,CAAT,GAAY;EAAC,MAAIc,CAAC,GAAC,IAAN;EAAA,MAAWqC,CAAC,GAAC7B,SAAS,CAACC,MAAV,GAAiB,CAAjB,IAAoB,KAAK,CAAL,KAASD,SAAS,CAAC,CAAD,CAAtC,GAA0CA,SAAS,CAAC,CAAD,CAAnD,GAAuD,EAApE;EAAuErB,EAAAA,CAAC,CAAC,IAAD,EAAMD,CAAN,CAAD,EAAUO,CAAC,CAAC,IAAD,EAAM,UAAN,EAAkB,YAAU;EAACO,IAAAA,CAAC,CAACsC,EAAF,CAAKC,KAAL,CAAWC,UAAX,GAAsBxC,CAAC,CAACyC,OAAF,CAAUC,aAAhC,EAA8C1C,CAAC,CAACsC,EAAF,CAAKK,SAAL,GAAe,wKAA7D,EAAsO3C,CAAC,CAACsC,EAAF,CAAKL,aAAL,CAAmB,mBAAnB,EAAwCM,KAAxC,CAA8CK,KAA9C,GAAoD5C,CAAC,CAACyC,OAAF,CAAUI,UAApS,EAA+S7C,CAAC,CAACsC,EAAF,CAAKL,aAAL,CAAmB,mBAAnB,EAAwCM,KAAxC,CAA8CO,MAA9C,GAAqD9C,CAAC,CAACyC,OAAF,CAAUI,UAA9W,EAAyX7C,CAAC,CAACyC,OAAF,CAAUM,SAAV,KAAsB/C,CAAC,CAACsC,EAAF,CAAKC,KAAL,CAAWO,MAAX,GAAkB9C,CAAC,CAACyC,OAAF,CAAUM,SAA5B,EAAsC/C,CAAC,CAACsC,EAAF,CAAKL,aAAL,CAAmB,eAAnB,EAAoCM,KAApC,CAA0CO,MAA1C,GAAiD9C,CAAC,CAACyC,OAAF,CAAUM,SAAvH,CAAzX,EAA2f/C,CAAC,CAACgD,QAAF,IAAYhD,CAAC,CAACsC,EAAF,CAAKW,SAAL,CAAeC,GAAf,CAAmB,mBAAnB,CAAvgB;EAA+iB,GAA5kB,CAAX,EAA0lBzD,CAAC,CAAC,IAAD,EAAM,aAAN,EAAqB,UAASP,CAAT,EAAWC,CAAX,EAAa;EAACD,IAAAA,CAAC,GAACc,CAAC,CAACmD,MAAF,CAASjE,CAAT,CAAF;EAAc,QAAIO,CAAC,GAACO,CAAC,CAACyC,OAAF,CAAUW,KAAhB;EAAA,QAAsB7C,CAAC,GAACP,CAAC,CAACyC,OAAF,CAAUY,MAAlC;EAAyC5D,IAAAA,CAAC,KAAGqC,CAAC,CAACrC,CAAD,CAAD,GAAKA,CAAC,CAAC6D,IAAF,CAAOtD,CAAP,EAASd,CAAT,CAAL,GAAiBqE,OAAO,CAACC,IAAR,CAAa,yBAAb,CAApB,CAAD,EAA8DrE,CAAC,IAAEoB,CAAH,KAAOuB,CAAC,CAACvB,CAAD,CAAD,GAAKA,CAAC,CAAC+C,IAAF,CAAOtD,CAAP,EAASd,CAAT,CAAL,GAAiBqE,OAAO,CAACC,IAAR,CAAa,0BAAb,CAAxB,CAA9D,EAAgIxD,CAAC,CAACJ,KAAF,GAAQV,CAAxI,EAA0Ic,CAAC,CAACyD,MAAF,EAA1I;EAAqJ,GAA/O,CAA3lB,EAA60BhE,CAAC,CAAC,IAAD,EAAM,UAAN,EAAkB,UAASP,CAAT,EAAW;EAAC,WAAKc,CAAC,CAAC0D,UAAP,IAAmB1D,CAAC,CAAC2D,WAAF,CAAczE,CAAd,CAAnB;EAAoC,GAAlE,CAA90B,EAAm5BO,CAAC,CAAC,IAAD,EAAM,QAAN,EAAgB,UAASP,CAAT,EAAW;EAAC,WAAOqC,IAAI,CAACqC,KAAL,CAAWrC,IAAI,CAACsC,GAAL,CAAS7D,CAAC,CAAC8D,GAAX,EAAevC,IAAI,CAACuC,GAAL,CAAS5E,CAAT,EAAWc,CAAC,CAAC6D,GAAb,CAAf,IAAkC7D,CAAC,CAAC+D,IAA/C,IAAqD/D,CAAC,CAAC+D,IAA9D;EAAmE,GAA/F,CAAp5B,EAAs/BtE,CAAC,CAAC,IAAD,EAAM,SAAN,EAAiB,UAASP,CAAT,EAAW;EAAC,QAAG,CAACc,CAAC,CAACgD,QAAN,EAAe;EAAC9D,MAAAA,CAAC,CAAC2C,eAAF;EAAoB,UAAI1C,CAAC,GAACa,CAAC,CAACsC,EAAF,CAAK0B,qBAAL,EAAN;EAAA,UAAmCvE,CAAC,GAACP,CAAC,CAAC+B,OAAF,GAAU9B,CAAC,CAAC8E,IAAjD;EAAA,UAAsD1D,CAAC,GAACpB,CAAC,CAACyD,KAA1D;EAAA,UAAgE/B,CAAC,GAAC,CAACb,CAAC,CAAC8D,GAAH,GAAOrE,CAAC,GAACc,CAAF,GAAIP,CAAC,CAACkE,KAA/E;EAAqFlE,MAAAA,CAAC,CAACmE,UAAF,GAAanE,CAAC,CAACJ,KAAf,EAAqBI,CAAC,CAAC2D,WAAF,CAAc9C,CAAd,EAAgB,CAAC,CAAjB,CAArB;EAAyC;EAAC,GAAhM,CAAv/B,EAA0rCpB,CAAC,CAAC,IAAD,EAAM,cAAN,EAAsB,UAASP,CAAT,EAAW;EAACc,IAAAA,CAAC,CAACgD,QAAF,KAAahD,CAAC,CAACoE,UAAF,CAAaC,UAAb,CAAwBnF,CAAxB,GAA2Bc,CAAC,CAACsE,YAAF,GAAetE,CAAC,CAACJ,KAA5C,EAAkDI,CAAC,CAACmE,UAAF,GAAanE,CAAC,CAACmD,MAAF,CAASnD,CAAC,CAACJ,KAAX,CAA/D,EAAiFI,CAAC,CAAC0D,UAAF,GAAa,OAA3G;EAAoH,GAAtJ,CAA3rC,EAAo1CjE,CAAC,CAAC,IAAD,EAAM,aAAN,EAAqB,UAASP,CAAT,EAAW;EAAC,QAAG,CAACc,CAAC,CAACgD,QAAN,EAAe;EAAC,UAAI7D,CAAC,GAACa,CAAC,CAACyC,OAAF,CAAU8B,SAAhB;EAA0B,kBAAUvE,CAAC,CAAC0D,UAAZ,IAAwBvE,CAAxB,KAA4B2C,CAAC,CAAC3C,CAAD,CAAD,GAAKA,CAAC,EAAN,GAASoE,OAAO,CAACC,IAAR,CAAa,6BAAb,CAArC,GAAkFxD,CAAC,CAACsC,EAAF,CAAKL,aAAL,CAAmB,eAAnB,EAAoCM,KAApC,CAA0CiC,UAA1C,GAAqD,iBAAvI,EAAyJ9C,CAAC,CAACxC,CAAD,EAAG,CAAC,CAAJ,CAA1J,EAAiKc,CAAC,CAACoE,UAAF,CAAaK,SAAb,CAAuBvF,CAAvB,CAAjK,EAA2Lc,CAAC,CAAC0D,UAAF,GAAa,SAAxM;EAAkN,UAAIjE,CAAC,GAACO,CAAC,CAACsC,EAAF,CAAK0B,qBAAL,EAAN;EAAA,UAAmCzD,CAAC,GAACP,CAAC,CAACoE,UAAF,CAAahD,MAAb,GAAoB3B,CAAC,CAACmD,KAAtB,GAA4B5C,CAAC,CAACkE,KAAnE;EAAyElE,MAAAA,CAAC,CAACsE,YAAF,GAAetE,CAAC,CAACmE,UAAF,GAAa5D,CAA5B,EAA8BP,CAAC,CAAC2D,WAAF,CAAc3D,CAAC,CAACsE,YAAhB,CAA9B;EAA4D;EAAC,GAAna,CAAr1C,EAA2vD7E,CAAC,CAAC,IAAD,EAAM,YAAN,EAAoB,YAAU;EAAC,QAAG,CAACO,CAAC,CAACgD,QAAN,EAAe;EAAC,UAAG,cAAYhD,CAAC,CAAC0D,UAAjB,EAA4B;EAAC1D,QAAAA,CAAC,CAAC2D,WAAF,CAAc3D,CAAC,CAACsE,YAAhB,EAA6B,CAAC,CAA9B;EAAiC,YAAIpF,CAAC,GAACc,CAAC,CAACyC,OAAF,CAAUiC,OAAhB;EAAwBxF,QAAAA,CAAC,KAAG4C,CAAC,CAAC5C,CAAD,CAAD,GAAKA,CAAC,EAAN,GAASqE,OAAO,CAACC,IAAR,CAAa,2BAAb,CAAZ,CAAD;EAAwD;;EAAAxD,MAAAA,CAAC,CAACsC,EAAF,CAAKL,aAAL,CAAmB,eAAnB,EAAoCM,KAApC,CAA0CiC,UAA1C,GAAqD,IAArD,EAA0DxE,CAAC,CAAC0D,UAAF,GAAa,EAAvE;EAA0E;EAAC,GAAxQ,CAA5vD,EAAugEjE,CAAC,CAAC,IAAD,EAAM,gBAAN,EAAwB,UAASP,CAAT,EAAW;EAAC,QAAIC,CAAC,GAACa,CAAC,CAAC2E,YAAR;EAAA,QAAqBlF,CAAC,GAACO,CAAC,CAAC4E,WAAzB;EAAA,QAAqCrE,CAAC,GAACP,CAAC,CAAC6E,UAAzC;EAAoD3F,IAAAA,CAAC,CAAC4F,gBAAF,CAAmB,YAAnB,EAAgC3F,CAAhC,GAAmCD,CAAC,CAAC4F,gBAAF,CAAmB,WAAnB,EAA+BrF,CAA/B,CAAnC,EAAqEc,CAAC,KAAGrB,CAAC,CAAC4F,gBAAF,CAAmB,UAAnB,EAA8BvE,CAA9B,GAAiCrB,CAAC,CAAC4F,gBAAF,CAAmB,aAAnB,EAAiCvE,CAAjC,CAApC,CAAtE;EAA+I,GAAvO,CAAxgE,EAAkvEd,CAAC,CAAC,IAAD,EAAM,cAAN,EAAsB,YAAU;EAAC,QAAIP,CAAC,GAACc,CAAC,CAACJ,KAAR;EAAA,QAAcT,CAAC,GAACa,CAAC,CAAC8D,GAAlB;EAAA,QAAsBrE,CAAC,GAACO,CAAC,CAACkE,KAA1B;EAAgC,WAAM,GAAGa,MAAH,CAAU,OAAK7F,CAAC,GAACC,CAAP,IAAUM,CAApB,EAAsB,GAAtB,CAAN;EAAiC,GAAlG,CAAnvE,EAAw1EA,CAAC,CAAC,IAAD,EAAM,YAAN,EAAoB,YAAU;EAACO,IAAAA,CAAC,CAACJ,KAAF,EAAQI,CAAC,CAAC8D,GAAV,EAAc9D,CAAC,CAACkE,KAAhB;EAAsB,WAAO,IAAP;EAAY,GAAjE,CAAz1E,EAA65EzE,CAAC,CAAC,IAAD,EAAM,QAAN,EAAgB,YAAU;EAAC,QAAIP,CAAC,GAAC;EAAC0D,MAAAA,KAAK,EAAC5C,CAAC,CAACgF,YAAF,EAAP;EAAwBxC,MAAAA,UAAU,EAACxC,CAAC,CAACyC,OAAF,CAAUwC;EAA7C,KAAN;EAAA,QAAgE9F,CAAC,GAACa,CAAC,CAACsC,EAAF,CAAKL,aAAL,CAAmB,eAAnB,CAAlE;EAAsG9C,IAAAA,CAAC,CAACoD,KAAF,CAAQK,KAAR,GAAc1D,CAAC,CAAC0D,KAAhB,EAAsBzD,CAAC,CAACoD,KAAF,CAAQC,UAAR,GAAmBtD,CAAC,CAACsD,UAA3C;EAAsD,GAAvL,CAA95E,EAAwlF,KAAKC,OAAL,GAAalC,CAAC,CAAC;EAACuD,IAAAA,GAAG,EAAC,CAAL;EAAOD,IAAAA,GAAG,EAAC,GAAX;EAAeE,IAAAA,IAAI,EAAC,CAApB;EAAsBnE,IAAAA,KAAK,EAAC,CAA5B;EAA8BoD,IAAAA,QAAQ,EAAC,CAAC;EAAxC,GAAD,EAA4CX,CAA5C,CAAtmF,EAAqpF,KAAKyB,GAAL,GAAS,KAAKrB,OAAL,CAAaqB,GAA3qF,EAA+qF,KAAKD,GAAL,GAAS,KAAKpB,OAAL,CAAaoB,GAArsF,EAAysF,KAAKE,IAAL,GAAU,KAAKtB,OAAL,CAAasB,IAAhuF,EAAquF,KAAKnE,KAAL,GAAW,KAAK6C,OAAL,CAAa7C,KAA7vF,EAAmwF,KAAKoD,QAAL,GAAc,KAAKP,OAAL,CAAaO,QAA9xF,EAAuyF,KAAKV,EAAL,GAAQP,CAAC,CAAC,KAAKU,OAAL,CAAaH,EAAd,CAAhzF,EAAk0F,KAAKoB,UAAL,GAAgB,EAAl1F,EAAq1F,KAAKQ,KAAL,GAAW,KAAKL,GAAL,GAAS,KAAKC,GAA92F,EAAk3F,KAAKoB,QAAL,EAAl3F,EAAk4F,KAAKvB,WAAL,CAAiB,KAAK/D,KAAtB,CAAl4F;EAA+5F,MAAIuF,CAAC,GAAC,KAAK7C,EAAL,CAAQL,aAAR,CAAsB,2BAAtB,CAAN;EAAyD,OAAKmD,cAAL,CAAoBD,CAApB,GAAuB,KAAKf,UAAL,GAAgB,IAAIvD,CAAJ,EAAvC,EAA6C,KAAKyB,EAAL,CAAQwC,gBAAR,CAAyB,OAAzB,EAAiC,KAAKO,OAAtC,CAA7C;EAA4F,CAA9oG;;ECA35D,SAASC,MAAT,CAAiBhD,EAAjB,EAAqB;EAC1B,MAAI,OAAOA,EAAP,KAAc,QAAlB,EAA4B;EAC1BA,IAAAA,EAAE,GAAGN,QAAQ,CAACC,aAAT,CAAuBK,EAAvB,CAAL;EACD;;EAED,MAAIiD,KAAK,GAAG,QAAOrD,WAAP,yCAAOA,WAAP,OAAuB,QAAvB,GACR,UAAUI,EAAV,EAAc;EACZ,WAAOA,EAAE,YAAYJ,WAArB;EACD,GAHO,GAIR,UAAUI,EAAV,EAAc;EACZ,WAAOA,EAAE,IAAI,QAAOA,EAAP,MAAc,QAApB,IAAgCA,EAAE,CAACH,QAAH,KAAgB,CAAhD,IAAqD,OAAOG,EAAE,CAACF,QAAV,KAAuB,QAAnF;EACD,GANL;;EAOA,MAAImD,KAAK,CAACjD,EAAD,CAAT,EAAe;EACb,WAAOA,EAAP;EACD,GAFD,MAEO;EACL,UAAM9C,SAAS,CAAC,kBAAD,CAAf;EACD;EACF;;MCbKgG,cACJ,uBAA2B;EAAA;;EAAA,MAAd/C,OAAc,uEAAJ,EAAI;;EAAA;;EAAA,gCAkBpB,YAAM;EACX,IAAA,KAAI,CAACH,EAAL,CAAQL,aAAR,CAAsB,QAAtB,EAAgCU,SAAhC,GAA4C,KAAI,CAAC8C,KAAjD;;EACA,IAAA,KAAI,CAACC,OAAL,CAAaC,YAAb,CAA0B,KAA1B,EAAiC,KAAI,CAACC,GAAtC;;EACA,IAAA,KAAI,CAACC,YAAL;;EACA,IAAA,KAAI,CAACvD,EAAL,CAAQL,aAAR,CAAsB,aAAtB,EAAqC6C,gBAArC,CAAsD,OAAtD,EAA+D,KAAI,CAACgB,YAApE;EACD,GAvB0B;;EAAA,oCAwBhB,YAAM;EACf,QAAMC,IAAI,qcAAV;EAcA,IAAA,KAAI,CAACzD,EAAL,CAAQK,SAAR,GAAoBoD,IAApB;EACD,GAxC0B;;EAAA,yCAyCX,YAAM;EACpB,QAAI,KAAI,CAACC,SAAT,EAAoB;;EACpB,QAAI,CAAC,KAAI,CAACvD,OAAL,CAAawD,SAAlB,EAA6B;EAC3B;EACD;;EACD,QAAIC,QAAQ,GAAGlE,QAAQ,CAACmE,aAAT,CAAuB,KAAvB,CAAf;EACAD,IAAAA,QAAQ,CAACE,SAAT,gCAA2C,KAAI,CAAC3D,OAAL,CAAa4D,UAAb,IAA2B,EAAtE;EACA,QAAMC,SAAS,wPAMoB,KAAI,CAACC,WANzB,6DAOqB,KAAI,CAACC,QAP1B,kGAAf;EAYAN,IAAAA,QAAQ,CAACvD,SAAT,GAAqB2D,SAArB;EACA,IAAA,KAAI,CAACJ,QAAL,GAAgBA,QAAhB;EACAlE,IAAAA,QAAQ,CAACyE,IAAT,CAAcC,WAAd,CAA0BR,QAA1B;EAEA,IAAA,KAAI,CAACA,QAAL,CAAcjE,aAAd,CAA4B,QAA5B,EAAsCU,SAAtC,GAAkD,KAAI,CAAC8C,KAAvD;;EACA,IAAA,KAAI,CAACS,QAAL,CAAcjE,aAAd,CAA4B,aAA5B,EAA2C6C,gBAA3C,CAA4D,OAA5D,EAAqE,KAAI,CAACgB,YAA1E;;EACA,IAAA,KAAI,CAACI,QAAL,CAAcjE,aAAd,CAA4B,iBAA5B,EAA+C6C,gBAA/C,CAAgE,OAAhE,EAAyE,KAAI,CAAC6B,cAA9E,EAzBoB;;;EA2BpB,IAAA,KAAI,CAACC,SAAL,GAAiB,IAAIC,CAAJ;EACfvE,MAAAA,EAAE,EAAE,KAAI,CAAC4D,QAAL,CAAcjE,aAAd,CAA4B,WAA5B,CADW;EAEf8B,MAAAA,IAAI,EAAE,GAFS;EAGfnE,MAAAA,KAAK,EAAE,KAAI,CAACkH,gBAHG;EAIfjE,MAAAA,UAAU,EAAE,MAJG;EAKfoC,MAAAA,WAAW,EAAE;EALE,OAMZ,KAAI,CAAC8B,aANO;EAOf1D,MAAAA,MAAM,EAAE,KAAI,CAAC2D;EAPE,OAAjB;EASD,GA7E0B;;EAAA,0CA8EV,YAAM;EACrB,QAAI,KAAI,CAAChB,SAAT,EAAoB;;EACpB,QAAI,KAAI,CAACE,QAAT,EAAmB;EACjB,MAAA,KAAI,CAACA,QAAL,CAAce,UAAd,CAAyBC,WAAzB,CAAqC,KAAI,CAAChB,QAA1C;;EACA,MAAA,KAAI,CAACA,QAAL,GAAgB,IAAhB;;EACA,MAAA,KAAI,CAACiB,UAAL;EACD;EACF,GArF0B;;EAAA,sCAsFd,YAAM;EACjB,QAAI,KAAI,CAACnB,SAAT,EAAoB;EACpB,IAAA,KAAI,CAACoB,MAAL,GAAc,IAAIP,CAAJ;EACZvE,MAAAA,EAAE,EAAE,KAAI,CAACA,EAAL,CAAQL,aAAR,CAAsB,WAAtB,CADQ;EAEZ8B,MAAAA,IAAI,EAAE,GAFM;EAGZlB,MAAAA,UAAU,EAAE,MAHA;EAIZoC,MAAAA,WAAW,EAAE,SAJD;EAKZjC,MAAAA,QAAQ,EAAE,CAAC,KAAI,CAACqE;EALJ,OAMT,KAAI,CAACN,aANI;EAOZ1D,MAAAA,MAAM,EAAE,KAAI,CAAC2D;EAPD,OAAd;EASD,GAjG0B;;EAAA,wCAkGZ,YAAM;EACnB,QAAI,KAAI,CAAChB,SAAT,EAAoB;;EACpB,QAAI,CAAC,KAAI,CAACqB,OAAV,EAAmB;EACjB;EACD;;EACD,IAAA,KAAI,CAACC,IAAL,GAAY,CAAC,KAAI,CAACA,IAAlB;EACA,IAAA,KAAI,CAACC,aAAL,GAAqB,IAArB;EACA,QAAIC,KAAK,GAAG,KAAI,CAAC9B,OAAjB;;EACA,QAAI,KAAI,CAAC4B,IAAT,EAAe;EACbE,MAAAA,KAAK,CAACF,IAAN;;EACA,MAAA,KAAI,CAACG,aAAL;EACD,KAHD,MAGO;EACLD,MAAAA,KAAK,CAACE,KAAN,GADK;EAGN;;EACD,IAAA,KAAI,CAACjF,OAAL,CAAakF,UAAb,IAA2B,KAAI,CAAClF,OAAL,CAAakF,UAAb,CAAwB,KAAI,CAACL,IAA7B,EAAmC,KAAI,CAAChF,EAAL,CAAQsF,OAAR,CAAgBC,KAAnD,CAA3B;EACD,GAlH0B;;EAAA,sCAmHd,YAAM;EACjB,QAAI,KAAI,CAAC7B,SAAT,EAAoB;EACpB,IAAA,KAAI,CAACuB,aAAL,GAAqB,KAArB;EACA,IAAA,KAAI,CAACD,IAAL,GAAY,KAAZ;;EACA,IAAA,KAAI,CAAC5B,OAAL,CAAagC,KAAb;;EACA,IAAA,KAAI,CAACf,cAAL;EACD,GAzH0B;;EAAA,sCA0Hd,UAACmB,GAAD,EAAS;EACpB,QAAIN,KAAK,GAAG,KAAI,CAAC9B,OAAjB;EACA8B,IAAAA,KAAK,CAACjB,WAAN,GAAqBiB,KAAK,CAAChB,QAAN,GAAiBsB,GAAlB,GAAyB,GAA7C;EACD,GA7H0B;;EAAA,wCA8HZ,YAAM;EACnB,QAAIN,KAAK,GAAG,KAAI,CAAC9B,OAAjB;EACA8B,IAAAA,KAAK,CAAC1C,gBAAN,CAAuB,gBAAvB,EAAyC,YAAM;EAC7C,MAAA,KAAI,CAACuC,OAAL,GAAe,IAAf;;EACA,MAAA,KAAI,CAACU,UAAL;;EACA,MAAA,KAAI,CAACvB,QAAL,GAAgB,KAAI,CAACwB,SAAL,CAAeR,KAAK,CAAChB,QAArB,CAAhB;EACA,MAAA,KAAI,CAAClE,EAAL,CAAQL,aAAR,CAAsB,iBAAtB,EAAyCU,SAAzC,GAAqD,KAAI,CAAC6D,QAA1D;;EACA,UAAMyB,UAAU,GAAG,KAAI,CAAC3F,EAAL,CAAQL,aAAR,CAAsB,2BAAtB,CAAnB;;EACA,UAAIgG,UAAJ,EAAgB;EACd,QAAA,KAAI,CAAC3F,EAAL,CAAQL,aAAR,CAAsB,aAAtB,EAAqCiF,WAArC,CAAiDe,UAAjD;EACD;;EACD,UAAI,KAAI,CAAC/B,QAAT,EAAmB;EACjB,QAAA,KAAI,CAACA,QAAL,CAAcjE,aAAd,CAA4B,iBAA5B,EAA+CU,SAA/C,GAA2D,KAAI,CAAC6D,QAAhE;EACD;EACF,KAZD;EAaAgB,IAAAA,KAAK,CAAC1C,gBAAN,CAAuB,OAAvB,EAAgC,YAAM;EACpC,MAAA,KAAI,CAACuC,OAAL,GAAe,IAAf;;EACA,UAAMY,UAAU,GAAG,KAAI,CAAC3F,EAAL,CAAQL,aAAR,CAAsB,2BAAtB,CAAnB;;EACA,UAAIgG,UAAJ,EAAgB;EACd,QAAA,KAAI,CAAC3F,EAAL,CAAQL,aAAR,CAAsB,aAAtB,EAAqCiF,WAArC,CAAiDe,UAAjD;EACD;;EACD,MAAA,KAAI,CAACxF,OAAL,CAAayF,KAAb,IAAsB,KAAI,CAACzF,OAAL,CAAayF,KAAb,EAAtB;EACD,KAPD;EAQAV,IAAAA,KAAK,CAAC1C,gBAAN,CAAuB,YAAvB,EAAqC,YAAM;EACzC,UAAI,KAAI,CAACkB,SAAT,EAAoB;EACpB,UAAIpG,KAAK,GAAI2B,IAAI,CAAC4G,KAAL,CAAWX,KAAK,CAACjB,WAAjB,IAAgChF,IAAI,CAAC4G,KAAL,CAAWX,KAAK,CAAChB,QAAjB,CAAjC,GAA+D,GAA3E;EACA,MAAA,KAAI,CAACM,gBAAL,GAAyBsB,QAAQ,CAACxI,KAAK,GAAG,GAAT,CAAT,GAA0B,GAAlD;EACA,MAAA,KAAI,CAAC2G,WAAL,GAAmB,KAAI,CAACyB,SAAL,CAAeR,KAAK,CAACjB,WAArB,CAAnB;;EACA,MAAA,KAAI,CAACa,MAAL,CAAYiB,QAAZ,CAAqB,KAAI,CAACvB,gBAA1B;;EACA,MAAA,KAAI,CAACxE,EAAL,CAAQL,aAAR,CAAsB,gBAAtB,EAAwCU,SAAxC,GAAoD,KAAI,CAAC4D,WAAzD;;EACA,UAAI,KAAI,CAACL,QAAT,EAAmB;EACjB,QAAA,KAAI,CAACU,SAAL,CAAeyB,QAAf,CAAwB,KAAI,CAACvB,gBAA7B;;EACA,QAAA,KAAI,CAACZ,QAAL,CAAcjE,aAAd,CAA4B,gBAA5B,EAA8CU,SAA9C,GAA0D,KAAI,CAAC4D,WAA/D;EACD;EACF,KAXD;EAYAiB,IAAAA,KAAK,CAAC1C,gBAAN,CAAuB,OAAvB,EAAgC,YAAM;EACpC,UAAI,KAAI,CAACkB,SAAT,EAAoB;EACpB,MAAA,KAAI,CAACsB,IAAL,GAAY,KAAZ;EACA,MAAA,KAAI,CAACC,aAAL,GAAqB,KAArB;EACAC,MAAAA,KAAK,CAACE,KAAN;EACA,MAAA,KAAI,CAACnB,WAAL,GAAmB,OAAnB;EACA,MAAA,KAAI,CAACO,gBAAL,GAAwB,CAAxB;;EACA,MAAA,KAAI,CAACM,MAAL,CAAYiB,QAAZ,CAAqB,KAAI,CAACvB,gBAA1B;;EACA,MAAA,KAAI,CAACxE,EAAL,CAAQL,aAAR,CAAsB,gBAAtB,EAAwCU,SAAxC,GAAoD,KAAI,CAAC4D,WAAzD;;EACA,UAAI,KAAI,CAACL,QAAT,EAAmB;EACjB,QAAA,KAAI,CAACU,SAAL,CAAeyB,QAAf,CAAwB,KAAI,CAACvB,gBAA7B;;EACA,QAAA,KAAI,CAACH,cAAL;EACD;EACF,KAbD,EAaG,KAbH;EAcD,GA/K0B;;EAAA,qCAgLf,UAAC2B,IAAD,EAAU;EACpB,QAAI9B,QAAQ,GAAG4B,QAAQ,CAACE,IAAD,CAAvB;EACA,QAAIC,MAAM,GAAGH,QAAQ,CAAC5B,QAAQ,GAAG,EAAZ,CAArB;EACA,QAAIgC,GAAG,GAAGhC,QAAQ,GAAG,EAAX,GAAgB,EAA1B;EACA,QAAIiC,IAAI,GAAG,GAAX;;EACA,QAAIF,MAAM,KAAK,CAAf,EAAkB;EAChBA,MAAAA,MAAM,GAAG,IAAT;EACD,KAFD,MAEO,IAAIA,MAAM,GAAG,EAAb,EAAiB;EACtBA,MAAAA,MAAM,GAAG,MAAMA,MAAf;EACD;;EACD,QAAIC,GAAG,CAAC/H,MAAJ,KAAe,CAAnB,EAAsB;EACpB+H,MAAAA,GAAG,GAAG,MAAMA,GAAZ;EACD;;EACD,WAAOD,MAAM,GAAGE,IAAT,GAAgBD,GAAvB;EACD,GA9L0B;;EAAA,mCA+LjB,YAAM;EACd,IAAA,KAAI,CAACrB,UAAL;;EACA,IAAA,KAAI,CAACnB,SAAL,GAAiB,IAAjB;;EACA,QAAI,KAAI,CAACE,QAAT,EAAmB;EACjB,MAAA,KAAI,CAACA,QAAL,CAAce,UAAd,CAAyBC,WAAzB,CAAqC,KAAI,CAAChB,QAA1C;;EACA,MAAA,KAAI,CAACA,QAAL,GAAgB,IAAhB;EACD;;EACD,QAAI,KAAI,CAAC5D,EAAT,EAAa;EACX,MAAA,KAAI,CAACA,EAAL,CAAQ2E,UAAR,CAAmBC,WAAnB,CAA+B,KAAI,CAAC5E,EAApC;;EACA,MAAA,KAAI,CAACA,EAAL,GAAU,IAAV;EACD;EACF,GA1M0B;;EACzB,OAAKG,OAAL,GAAeA,OAAf;EACA,OAAKmD,GAAL,GAAW,KAAKnD,OAAL,CAAamD,GAAxB;EACA,OAAKH,KAAL,GAAa,KAAKhD,OAAL,CAAagD,KAA1B;EACA,OAAKnD,EAAL,GAAUgD,MAAM,CAAC,KAAK7C,OAAL,CAAaH,EAAd,CAAhB;EACA,OAAK4C,QAAL;EACA,OAAKsB,QAAL,GAAgB,OAAhB;EACA,OAAKD,WAAL,GAAmB,OAAnB;EACA,OAAKO,gBAAL,GAAwB,CAAxB;EACA,OAAKQ,IAAL,GAAY,KAAZ;EACA,OAAKC,aAAL,GAAqB,KAArB;EACA,OAAK7B,OAAL,GAAe,KAAKpD,EAAL,CAAQL,aAAR,CAAsB,eAAtB,CAAf;EACA,OAAKoF,OAAL,GAAe,KAAf;EACA,OAAKrB,SAAL,GAAiB,KAAjB;EACA,OAAKe,aAAL,GAAqBtE,OAAO,CAACsE,aAAR,IAAyB,EAA9C;EACA,OAAK2B,IAAL;EACA,OAAKX,UAAL;EACD;;;;;;;;"}