!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).AudioPlayer=t()}(this,function(){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}return function(){function t(){var i=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),u(this,"init",function(){i.el.querySelector(".title").innerHTML=i.title,i.audioEl.setAttribute("src",i.url),i.getAudioInfo(),i.el.querySelector(".icon-audio").addEventListener("click",i.playAndPause)}),u(this,"initHtml",function(){i.el.innerHTML='\n      <span class="icon icon-audio"></span>\n      <div class="audio-info">\n        <div class="title"></div>\n        <div class="v-slider"></div>\n        <div class="audio-time">\n          <div class="audio-current">00:00</div>\n          <div class="audio-duration">00:00</div>\n        </div>\n      </div>\n      <audio class="audio-wapper" preload></audio>\n    '}),u(this,"initSlider",function(){i.slider=new Slider({el:i.el.querySelector(".v-slider"),step:.1,buttonSize:i.options.buttonSize||"10px",activeColor:i.options.activeColor||"#F45E23",change:i.changeTime})}),u(this,"playAndPause",function(){i.play=!i.play,i.showPlayFixed=!0;var e=i.audioEl;i.play?e.play():e.pause(),i.options.playStatus&&i.options.playStatus(i.play,i.el.dataset.index)}),u(this,"changeTime",function(e){var t=i.audioEl;t.currentTime=t.duration*e/100}),u(this,"getAudioInfo",function(){var t=i.audioEl;t.addEventListener("loadedmetadata",function(){i.duration=i.transTime(t.duration),i.el.querySelector(".audio-duration").innerHTML=i.duration}),t.addEventListener("timeupdate",function(){var e=Math.floor(t.currentTime)/Math.floor(t.duration)*100;i.currentTimeValue=parseInt(100*e)/100,i.currentTime=i.transTime(t.currentTime),i.slider.updateValue(i.currentTimeValue),i.el.querySelector(".audio-current").innerHTML=i.currentTime}),t.addEventListener("ended",function(){i.play=!1,i.showPlayFixed=!1,t.pause(),i.currentTime="00:00",i.currentTimeValue=0,i.slider.updateValue(i.currentTimeValue),i.el.querySelector(".audio-current").innerHTML=i.currentTime},!1)}),u(this,"transTime",function(e){var t=parseInt(e),e=parseInt(t/60),t=t%60+"";return 0===e?e="00":e<10&&(e="0"+e),1===t.length&&(t="0"+t),e+":"+t}),this.options=e,this.url=this.options.url,this.title=this.options.title,this.el=function(e){if("string"==typeof e&&(e=document.querySelector(e)),("object"===("undefined"==typeof HTMLElement?"undefined":o(HTMLElement))?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"===o(e)&&1===e.nodeType&&"string"==typeof e.nodeName})(e))return e;throw TypeError("el is not define")}(this.options.el),this.initHtml(),this.duration="00:00",this.currentTime="00:00",this.currentTimeValue=0,this.play=!1,this.showPlayFixed=!1,this.audioEl=this.el.querySelector(".audio-wapper"),this.init(),this.initSlider()}var e,i,n;return e=t,(i=[{key:"audioPause",value:function(){this.showPlayFixed=!1,this.play=!1,this.audioEl.pause()}}])&&r(e.prototype,i),n&&r(e,n),t}()});
